<?xml version="1.0" encoding="utf-8" ?>
<article>
  <articleinfo>
    <title>CLIMLAB: a Python toolkit for interactive, process-oriented climate modeling</title>
    <authors>
      <author>
        <name>Brian E. J. Rose</name>
        <orcid>0000-0002-9961-3821</orcid>
        <affiliation>
          <orgname>
            1
          </orgname>
        </affiliation>
      </author>
    </authors>
    <tags>
      <tag>climate</tag>
      <tag>climate</tag>
    </tags>
    <date>22 March 2018</date>
    <paper_doi>10.21105/joss.00659</paper_doi>
    <software_repository>https://github.com/brian-rose/climlab/</software_repository>
    <software_archive>http://dx.doi.org/10.5281/zenodo.1226360</software_archive>
    <paper_url>http://www.theoj.org/joss-papers/joss.00659/10.21105.joss.00659.pdf</paper_url>
  </articleinfo>
  <body>
    <h1 id="summary">Summary</h1>
    <p>CLIMLAB is an open-ended engine for interactive, process-oriented climate modeling for use in education and research. It is motivated by the need for simpler tools and more reproducible workflows with which to “fill in the gaps” between blackboard-level theory and the results of comprehensive climate models. With CLIMLAB you can interactively mix and match physical model components, or combine simpler process models together into a more comprehensive model. CLIMLAB is used in the classroom (undergraduate and graduate) to put models in the hands of students, and emphasize a hierarchical, process-oriented approach to understanding the key emergent properties of the climate system. CLIMLAB is equally a tool for climate research, where the same needs exist for more robust, process- based understanding and reproducible computational results <span class="citation" data-cites="Held:2005fk Jeevanjee:2017a">(Held 2005; Jeevanjee et al. 2017)</span>.</p>
    <p>CLIMLAB defines a base Python class called <code>Process</code>. This generalized model operator contains, at a minimum:</p>
    <ul>
    <li>a dictionary of state variables, each with a well-defined spatial domain</li>
    <li>a list of required input fields</li>
    <li>methods to compute tendencies (rates of change) of its state variables given inputs and current state.</li>
    </ul>
    <p>A <code>Process</code> object can also contain an arbitrarily complex tree of subprocesses (each also some sub-class of <code>Process</code>). Tendencies are then computed by iterating through the subprocess tree and summing up contributions from each member. Using this object-oriented approach, every climate process (radiative, dynamical, physical, turbulent, convective, chemical, etc.) can be simulated as a stand-alone model given appropriate input, or as a component of a more complex model.</p>
    <p>CLIMLAB has out-of-the-box support and documented examples for:</p>
    <ul>
    <li>Several atmospheric radiation codes including the widely used <a href="http://rtweb.aer.com/rrtm_frame.html">RRTMG model</a> <span class="citation" data-cites="Mlawer:1997a Clough:2005a">(E. J. Mlawer et al. 1997; S. Clough et al. 2005)</span></li>
    <li>Convection models including the <a href="https://emanuel.mit.edu/problem-convective-moistening">Emanuel moist convection scheme</a> <span class="citation" data-cites="Emanuel:1991a Emanuel:1999a">(Emanuel 1991; Emanuel and Živković-Rothman 1999)</span></li>
    <li>Diffusion solvers for energy balance models</li>
    <li>Insolation for arbitrary orbital parameters <span class="citation" data-cites="Rose:2017a">(e.g. as used by Rose, Cronin, and Bitz 2017)</span></li>
    <li>Boundary layer turbulence</li>
    </ul>
    <p>CLIMLAB allows the user to assemble arbitrary combinations of the above on 1D, 2D, or 3D spatial domains. It is also an open framework allowing arbitrary pieces of useful climate model code to be wrapped into new <code>Process</code> classes.</p>
    <p>The user-facing parts of CLIMLAB are written in Python and well-suited to interactive command line use. CLIMLAB is agnostic about the underlying numerics; several process modules use compiled Fortran code. Automated build services are used to provide binaries for most common platforms, vastly simplifying the deployment of scientific software to non-specialist students and researchers.</p>
    <p>In addition to the documentation, a large collection of example classroom usage can be found in the Jupyter notebook collection at <a href="https://github.com/brian-rose/ClimateModeling_courseware" class="uri">https://github.com/brian-rose/ClimateModeling_courseware</a>.</p>
    <h1 id="links">Links</h1>
    <ul>
    <li>Source repository: <a href="https://github.com/brian-rose/climlab" class="uri">https://github.com/brian-rose/climlab</a></li>
    <li>Documentation: <a href="http://climlab.readthedocs.io/en/latest/" class="uri">http://climlab.readthedocs.io/en/latest/</a></li>
    </ul>
    <h1 id="acknowledgement">Acknowledgement</h1>
    <p>Development of CLIMLAB is partially supported by the National Science Foundation under award AGS-1455071 to Brian Rose. Any opinions, findings, and conclusions or recommendations expressed in this material are those of the author(s) and do not necessarily reflect the views of the National Science Foundation.</p>
    <h1 id="references" class="unnumbered">References</h1>
    <div id="refs" class="references">
    <div id="ref-Clough:2005a">
    <p>Clough, S.A., M.W. Shepard, E.J. Mlawer, J.S. Delamere, M.J. Iacono, K. Cady-Pereira, S. Boukabara, and P.D. Brown. 2005. “Atmospheric Radiative Transfer Modeling: A Summary of the AER Codes.” <em>J. Quant. Spectroscopy Radiative Transfer</em> 91:233–44. <a href="https://doi.org/10.1016/j.jqsrt.2004.05.058" class="uri">https://doi.org/10.1016/j.jqsrt.2004.05.058</a>.</p>
    </div>
    <div id="ref-Emanuel:1991a">
    <p>Emanuel, Kerry A. 1991. “A Scheme for Representing Cumulus Convection in Large-Scale Models.” <em>J. Atmos. Sci.</em> 48:2313–4. <a href="https://doi.org/10.1175/1520-0469(1991)048&lt;2313:ASFRCC&gt;2.0.CO;2" class="uri">https://doi.org/10.1175/1520-0469(1991)048&lt;2313:ASFRCC&gt;2.0.CO;2</a>.</p>
    </div>
    <div id="ref-Emanuel:1999a">
    <p>Emanuel, Kerry A., and Marina Živković-Rothman. 1999. “Development and Evaluation of a Convection Scheme for Use in Climate Models.” <em>J. Atmos. Sci.</em> 56:1766–82. <a href="https://doi.org/10.1175/1520-0469(1999)056&lt;1766:DAEOAC&gt;2.0.CO;2" class="uri">https://doi.org/10.1175/1520-0469(1999)056&lt;1766:DAEOAC&gt;2.0.CO;2</a>.</p>
    </div>
    <div id="ref-Held:2005fk">
    <p>Held, Isaac M. 2005. “The Gap Between Simulation and Understanding in Climate Modeling.” <em>Bull. Amer. Meteor. Soc.</em> 86 (11):1609–14. <a href="https://doi.org/10.1175/BAMS-86-11-1609" class="uri">https://doi.org/10.1175/BAMS-86-11-1609</a>.</p>
    </div>
    <div id="ref-Jeevanjee:2017a">
    <p>Jeevanjee, Nadir, Pedram Hassanzadeh, Spencer Hill, and Aditi Sheshadri. 2017. “A Perspective on Climate Model Hierarchies.” <em>J. Adv. Model. Earth Syst.</em> 9:1760–71. <a href="https://doi.org/10.1002/2017MS001038" class="uri">https://doi.org/10.1002/2017MS001038</a>.</p>
    </div>
    <div id="ref-Mlawer:1997a">
    <p>Mlawer, Eli J., Steven J. Taubman, Patrick D. Brown, Michael J. Iacono, and Shepard A. Clough. 1997. “Radiative Transfer for Inhomogeneous Atmospheres: RRTM, a Validated Correlated-K Model for the Longwave.” <em>J. Geophys. Res.</em> 102:16663–82. <a href="https://doi.org/10.1029/97JD00237" class="uri">https://doi.org/10.1029/97JD00237</a>.</p>
    </div>
    <div id="ref-Rose:2017a">
    <p>Rose, Brian E. J., Timothy W. Cronin, and Cecilia M. Bitz. 2017. “Ice Caps and Ice Belts: The Effects of Obliquity on Ice−albedo Feedback.” <em>Astrophys. J.</em> 846:28. <a href="https://doi.org/10.3847/1538-4357/aa8306" class="uri">https://doi.org/10.3847/1538-4357/aa8306</a>.</p>
    </div>
    </div>
  </body>
</article>
